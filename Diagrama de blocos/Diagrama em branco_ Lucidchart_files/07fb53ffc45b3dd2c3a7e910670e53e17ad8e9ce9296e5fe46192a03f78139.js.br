function l_N4i(a){return"up"==a?new l_j(.5,0):"right"==a?new l_j(1,.5):"down"==a?new l_j(.5,1):"left"==a?new l_j(0,.5):new l_j(.5,1)}function l_O4i(a){switch(a){case "up":return"down";case "down":return"up";case "left":return"right";case "right":return"left"}}
var l_P4i=class{constructor(a,b,c,d,e,f,g,h,k){this.wg=a;this.vb=b;this.selection=c;this.Cs=d;this.hxe=e;this.mE=f;this.Rf=g;this.Ra=h;this.Ua=k;this.L_c=!1;this.uGe=["default","text"];this.Lqi={down:["enter"],right:["tab"],up:["shift","enter"],left:["shift","tab"]};this.Mqi={down:["alt","down"],right:["alt","right"],up:["alt","up"],left:["alt","left"]}}Vjb(){if(!this.L_c&&"chart"==this.Ra.product){var a=l_BD(this.vb,"FY24Q1_AutoCreateBlockFromHotkeys");if("T-A"!==a){var b=new l_Bo;for(const f of this.uGe)for(const g of l_Fb(l_Swf)){var c=
b,d=c.uw;a:switch(a){case "T-B":var e=this.Lqi[g];break a;case "T-C":e=this.Mqi[g];break a;default:this.Ua.handleError({error:Error("Failed to setup hotkeys for autocreating blocks"),severity:"Minor"}),e=[]}d.call(c,{keys:e,$i:()=>!this.HBf(g),action:()=>this.FYc(g),NZ:`autoblock.${g}`,context:f})}this.wg.joa(b);b.enable();this.L_c=!0}}}HBf(a){var b;if(b=this.qVd())b=(b=this.Rf.getEditor())&&(l_lvf(b)||l_mPe(b)||!b.selection.isEmpty()||"up"===a)?!1:!0;if(a=b)this.Cs.xCc(2)?(this.Cs.F1(),a=!1):a=!0;
return a}FYc(a){{var b=this.hxe;var c,d,e,f;const m=b.selection.zt();if(m){var g=m.properties,h=m.Fb.value.get(l_sf.key),k=null!==(c=null===h||void 0===h?void 0:h.getStyle(!0))&&void 0!==c?c:{};for(var l of b.mKf)delete k[l];l=m.Ca.Qb();if(d=(c=l_4Lg(b.mva,m.$b(),{[l_nf.key]:null!==(d=g.aspectRatio.value)&&void 0!==d?d:null,[l_i.key]:g.fillColor.value?g.fillColor.value.serialize():"#FFECA9",[l_pf.key]:g.lineWidth.value,[l_xf.key]:null===(e=g.Oa.value)||void 0===e?void 0:e.serialize(),[l_Bf.key]:g.strokeStyle.value,
[l_Af.key]:g.opacity.value,[l_Mf.key]:g.Oo.value,[l_qf.key]:g.Ic.value,[l_rf.key]:g.ix.value,[l_sf.key]:l_dx("",k),[l_Nf.key]:k.align||"center",[`${l_sf.key}_DynamicFontSize`]:b.dXe(h),[`${l_sf.key}_VAlign`]:null!==(f=null===h||void 0===h?void 0:h.UBc.value)&&void 0!==f?f:null},l,a,!0))&&b.bl.Pp(c))a=b.RA.pCa(m.page.value,{Endpoint1:{Block:m.id,LinkX:l_N4i(a).x,LinkY:l_N4i(a).y,Style:"None"},Endpoint2:{Block:c,LinkX:l_N4i(l_O4i(a)).x,LinkY:l_N4i(l_O4i(a)).y,Style:"Arrow"},Shape:"elbow"}),b.pm(d,a);
b=c||void 0}else b=void 0}b&&(this.selection.ej([b]),l_owf(this.mE))}qVd(){const a=this.selection.zt();return!(a&&a instanceof l_LI)||a instanceof l_cK||a.Tn("lineDrag")||a.Tn("newLines")||a.Tn("supportCreateNewLine")?!1:!0}};l_P4i=__decorate([l_r(),__metadata("design:paramtypes",[l_WE,l_DD,l_zL,l_OK,l_oMg,l_wN,l_2K,l_4t,l_wn])],l_P4i);
//# sourceURL=/js/application/chart_app/chunk/gen_201000000000000000000000.js?compiled=1
